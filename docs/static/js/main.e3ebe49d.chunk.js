(this.webpackJsonplabirints=this.webpackJsonplabirints||[]).push([[0],{200:function(t,e,i){},201:function(t,e,i){"use strict";i.r(e);var s=i(1),c=i.n(s),n=i(79),o=i.n(n),l=i(32),a=i(4),h=function(t){var e=t.ToolbarStatus,i=(t.setToolbarStatus,Object(s.useRef)(null)),c=Object(s.useRef)(null),n=Object(s.useState)({X:0,Y:0}),o=Object(l.a)(n,2),h=o[0],r=o[1];return Object(s.useEffect)((function(){var t=i.current,s=c.current;t.width=e.canvasWidth,t.height=e.canvasHeight,s.width=e.canvasWidth,s.height=e.canvasHeight,t.style.width=e.canvasWidth+"px",t.style.height=e.canvasHeight+"px",s.style.width=e.canvasWidth+"px",s.style.height=e.canvasHeight+"px"}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"drawAreaWarper",style:{width:e.canvasWidth},children:[Object(a.jsx)("canvas",{style:{border:"1px solid #000"},id:"image",ref:i}),Object(a.jsx)("canvas",{className:"canvasRefVisual",id:"overlay",style:{border:"1px solid #000",cursor:"crosshair",top:"8px",left:"108px"},ref:c,onMouseDown:function(){e.tool.start()},onMouseMove:function(t){e.tool.Axis=h,r({X:t.clientX-c.current.offsetLeft,Y:t.clientY-c.current.offsetTop}),e.tool.cursorFunction(),e.tool.action()},onMouseUp:function(){e.tool.stop()},onMouseLeave:function(){}})]}),Object(a.jsx)("button",{onClick:function(){console.log(e)},children:"drawField"})]})},r=i(16),u=i(86),x=i(31),f=i(6),v=i(7),d=i(9),j=i(8),b=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).toolON=!1,t.lineWidth="5",t.color="",t.ctxRef=null,t.ctxRefV=null,t.ToolActive=!1,t.Axis={X:0,Y:0},t.ActiveBtn={borderColor:"#1d7e8f",borderWidth:"2px"},t.inActiveBtn={borderColor:"#000",borderWidth:"1px"},t}return Object(v.a)(i,[{key:"defineInputs",value:function(){null!==this.ctxRef&&null!==this.ctxRefV||(this.ctxRef=document.getElementById("image").getContext("2d"),this.ctxRefV=document.getElementById("overlay").getContext("2d")),this.ctxRef.lineWidth=this.lineWidth,this.ctxRef.strokeStyle=this.color}},{key:"openAction",value:function(){this.ToolActive=!0,this.ctxRef.beginPath()}},{key:"closeAction",value:function(){this.ToolActive=!1,this.ctxRef.stroke(),this.ctxRef.closePath()}},{key:"setColor",value:function(t){this.color=t}},{key:"setLineWidth",value:function(t){this.lineWidth=t}},{key:"clearOverlay",value:function(){null!=this.ctxRefV&&this.ctxRefV.clearRect(0,0,800,800)}},{key:"activateTool",value:function(t){t(),this.toolON=!0}},{key:"deselect",value:function(){this.toolON=!1}}]),i}(c.a.Component),p=i(84),O=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).initialLoc=null,t.initialLocY=null,t}return Object(v.a)(i,[{key:"start",value:function(){this.defineInputs(),this.ctxRef.lineCap="round",this.initialLocX=this.Axis.X,this.initialLocY=this.Axis.Y,this.openAction(),this.ctxRef.moveTo(this.Axis.X,this.Axis.Y)}},{key:"action",value:function(){}},{key:"stop",value:function(){this.ctxRef.lineTo(this.Axis.X,this.Axis.Y),this.closeAction()}},{key:"cursorFunction",value:function(){this.ToolActive&&(this.clearOverlay(),this.ctxRefV.lineWidth=this.lineWidth,this.ctxRefV.strokeStyle=this.color,this.ctxRefV.lineCap="round",this.ctxRefV.beginPath(),this.ctxRefV.moveTo(this.initialLocX,this.initialLocY),this.ctxRefV.lineTo(this.Axis.X,this.Axis.Y),this.ctxRefV.stroke(),this.ctxRefV.closePath())}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{onClick:function(){t.toolON=!0,t.props.setThis(t)},style:!0===this.toolON?this.ActiveBtn:this.inActiveBtn,children:Object(a.jsx)(p.a,{})})}}]),i}(b),y=i(18),A=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).toolON=!0,t}return Object(v.a)(i,[{key:"start",value:function(){this.defineInputs(),this.openAction(),this.ctxRef.lineWidth=this.lineWidth,this.ctxRef.strokeStyle=this.color,this.ctxRef.moveTo(this.Axis.X,this.Axis.Y)}},{key:"action",value:function(){!1!==this.ToolActive&&(this.ctxRef.stroke(),this.ctxRef.lineTo(this.Axis.X,this.Axis.Y))}},{key:"stop",value:function(){this.closeAction()}},{key:"cursorFunction",value:function(){this.ToolActive&&(this.clearOverlay(),this.ctxRefV.lineWidth=this.lineWidth,this.ctxRefV.strokeStyle=this.color,this.ctxRefV.lineCap="round",this.ctxRefV.moveTo(this.Axis.X,this.Axis.Y),this.ctxRefV.beginPath(),this.ctxRefV.lineTo(this.Axis.X,this.Axis.Y),this.ctxRefV.stroke(),this.ctxRefV.closePath())}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{onClick:function(){t.toolON=!0,t.props.setThis(t)},className:"tool",style:!0===this.toolON?this.ActiveBtn:this.inActiveBtn,children:Object(a.jsx)(y.b,{})})}}]),i}(b),R=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).arcX=0,t.arcY=0,t.arcSize=0,t}return Object(v.a)(i,[{key:"start",value:function(){this.defineInputs(),this.ctxRef.lineCap="round",this.openAction(),this.arcX=this.Axis.X,this.arcY=this.Axis.Y}},{key:"action",value:function(){if(this.ToolActive){var t=Math.abs(this.arcX-this.Axis.X),e=Math.abs(this.arcY-this.Axis.Y);this.arcSize=t>e?t:e}}},{key:"stop",value:function(){this.ctxRef.arc(this.arcX,this.arcY,this.arcSize,0,7),this.ctxRef.stroke(),this.closeAction()}},{key:"cursorFunction",value:function(){this.ToolActive&&(this.clearOverlay(),this.ctxRefV.lineWidth=this.lineWidth,this.ctxRefV.strokeStyle=this.color,this.ctxRefV.beginPath(),this.ctxRefV.arc(this.arcX,this.arcY,this.arcSize,0,7),this.ctxRefV.stroke(),this.ctxRefV.closePath())}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{onClick:function(){t.toolON=!0,t.props.setThis(t)},className:"tool",style:!0===this.toolON?this.ActiveBtn:this.inActiveBtn,children:Object(a.jsx)(y.a,{})})}}]),i}(b),k=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).click1X=null,t.click1Y=null,t}return Object(v.a)(i,[{key:"start",value:function(){this.defineInputs(),this.ctxRef.lineCap="square",this.openAction(),this.ctxRef.moveTo(this.Axis.X,this.Axis.Y),this.click1X=this.Axis.X,this.click1Y=this.Axis.Y}},{key:"action",value:function(){}},{key:"stop",value:function(){this.ctxRef.lineTo(this.Axis.X,this.click1Y),this.ctxRef.lineTo(this.Axis.X,this.Axis.Y),this.ctxRef.lineTo(this.click1X,this.Axis.Y),this.ctxRef.lineTo(this.click1X,this.click1Y),this.ctxRef.stroke(),this.closeAction()}},{key:"cursorFunction",value:function(){this.ToolActive&&(this.clearOverlay(),this.ctxRefV.lineWidth=this.lineWidth,this.ctxRefV.strokeStyle=this.color,this.ctxRefV.lineCap="square",this.ctxRefV.beginPath(),this.ctxRefV.moveTo(this.click1X,this.click1Y),this.ctxRefV.lineTo(this.Axis.X,this.click1Y),this.ctxRefV.lineTo(this.Axis.X,this.Axis.Y),this.ctxRefV.lineTo(this.click1X,this.Axis.Y),this.ctxRefV.lineTo(this.click1X,this.click1Y),this.ctxRefV.stroke(),this.ctxRefV.closePath())}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{onClick:function(){t.toolON=!0,t.props.setThis(t)},className:"tool",style:!0===this.toolON?this.ActiveBtn:this.inActiveBtn,children:Object(a.jsx)(y.c,{})})}}]),i}(b),T=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).arcX=0,t.arcY=0,t.arcSize=0,t}return Object(v.a)(i,[{key:"start",value:function(){this.defineInputs(),this.ctxRef.fillStyle=this.color,this.openAction(),this.arcX=this.Axis.X,this.arcY=this.Axis.Y}},{key:"action",value:function(){}},{key:"stop",value:function(){var t=Math.abs(this.arcX-this.Axis.X),e=Math.abs(this.arcY-this.Axis.Y);this.ctxRef.fillRect(this.arcX<this.Axis.X?this.arcX:this.arcX-t,this.arcY<this.Axis.Y?this.arcY:this.arcY-e,t,e),this.closeAction()}},{key:"cursorFunction",value:function(){if(this.ToolActive){var t=Math.abs(this.arcX-this.Axis.X),e=Math.abs(this.arcY-this.Axis.Y);this.clearOverlay(),this.ctxRefV.lineWidth=this.lineWidth,this.ctxRefV.fillStyle=this.color,this.ctxRefV.beginPath(),this.ctxRefV.fillRect(this.arcX<this.Axis.X?this.arcX:this.arcX-t,this.arcY<this.Axis.Y?this.arcY:this.arcY-e,t,e),this.ctxRefV.stroke(),this.ctxRefV.closePath()}}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{onClick:function(){t.toolON=!0,t.props.setThis(t)},className:"tool",style:!0===this.toolON?this.ActiveBtn:this.inActiveBtn,children:Object(a.jsx)(x.b,{})})}}]),i}(b),m=i(85),Y=function(t){Object(d.a)(i,t);var e=Object(j.a)(i);function i(){var t;Object(f.a)(this,i);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).textPlacementX=null,t.textPlacementY=null,t.inputField=null,t.textValue="",t.fontSize=8,t.fontFamily="Arial",t}return Object(v.a)(i,[{key:"start",value:function(){var t=this;this.defineInputs(),this.ToolActive=!0,this.textPlacementX=this.Axis.X,this.textPlacementY=this.Axis.Y;var e=this.Axis.X+this.ctxRef.canvas.offsetLeft,i=this.Axis.Y+this.ctxRef.canvas.offsetTop;this.clearOverlay(),null!==this.inputField&&this.inputField.remove();var s=document.createElement("textarea");s.setAttribute("class","textInput"),s.setAttribute("id","TextInput"),s.style.cssText="top: ".concat(i,"px;left:").concat(e,"px;font-size: ").concat(this.fontSize,"px;"),document.body.appendChild(s),this.inputField=document.getElementById("TextInput"),this.inputField.addEventListener("keydown",(function(c){t.textValue=c.target.value,t.clearOverlay(),s.style.cssText="top: ".concat(i,"px;left:").concat(e,"px;font-size: ").concat(t.fontSize,"px;"),t.ctxRefV.font="".concat(t.fontSize,"px ").concat(t.fontFamily),t.ctxRefV.fillStyle=t.color,t.ctxRefV.fillText(t.textValue,t.Axis.X,t.Axis.Y+t.fontSize),"Enter"===c.key&&(t.place(),t.inputField.remove())}))}},{key:"action",value:function(){}},{key:"stop",value:function(){}},{key:"cursorFunction",value:function(){}},{key:"place",value:function(){this.ctxRef.font="".concat(this.fontSize,"px ").concat(this.fontFamily),this.ctxRef.fillStyle=this.color,this.ctxRef.fillText(this.textValue,this.textPlacementX,this.textPlacementY+this.fontSize),this.clearOverlay(),this.textValue="",this.ToolActive=!1}},{key:"render",value:function(){var t=this,e=function(){return Object(a.jsxs)("div",{className:"text__settings",style:{display:"block",position:"absolute"},children:[Object(a.jsxs)("select",{className:"text__settings__size",onChange:function(e){console.log(t),t.fontSize=parseInt(e.target.value)},children:[Object(a.jsx)("option",{value:"8",children:"8px"}),Object(a.jsx)("option",{value:"12",children:"13px"}),Object(a.jsx)("option",{value:"16",children:"16px"}),Object(a.jsx)("option",{value:"24",children:"24px"}),Object(a.jsx)("option",{value:"32",children:"32px"}),Object(a.jsx)("option",{value:"42",children:"42px"}),Object(a.jsx)("option",{value:"72",children:"72px"})]}),Object(a.jsxs)("select",{className:"text__settings__fontSelect",onChange:function(e){t.fontFamily=e.target.value},children:[Object(a.jsx)("option",{value:"Arial",children:"Arial"}),Object(a.jsx)("option",{value:"Verdana",children:"Verdana"}),Object(a.jsx)("option",{value:"Gill Sans",children:"Gill Sans"})]})]})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{onClick:function(){t.toolON=!0,t.props.setThis(t)},className:"tool",style:!0===this.toolON?this.ActiveBtn:this.inActiveBtn,children:Object(a.jsx)(m.a,{})}),this.toolON?Object(a.jsx)(e,{}):null]})}}]),i}(b),V=function(t){var e=t.setToolbarStatus,i=t.ToolbarStatus;function s(t){e((function(e){return Object(r.a)(Object(r.a)({},e),{},{tool:t})}))}return Object(a.jsxs)("div",{className:"Toolbar",children:[Object(a.jsx)("div",{onClick:function(){!function(){var t=document.getElementById("image"),e=document.createElement("a");e.download="filename.png",e.href=t.toDataURL(),e.click()}()},children:Object(a.jsx)(x.a,{})}),Object(a.jsx)("div",{className:"colorPicker",style:{background:i.color},children:Object(a.jsx)("div",{className:"colorPickerHover",children:Object(a.jsx)(u.a,{onChange:function(t){e((function(e){return Object(r.a)(Object(r.a)({},e),{},{color:t.hex})})),i.tool.setColor(t.hex)}})})}),Object(a.jsxs)("div",{className:"lineWidth",children:[Object(a.jsx)("input",{type:"range",className:"rangerBar",min:"1",max:"50",value:i.lineWidth,onChange:function(t){i.tool.setLineWidth(parseInt(t.target.value)),e((function(e){return Object(r.a)(Object(r.a)({},e),{},{lineWidth:parseInt(t.target.value)})}))}}),Object(a.jsx)("p",{children:i.lineWidth})]}),Object(a.jsx)(A,{setThis:s,activeTool:i.tool}),Object(a.jsx)(O,{setThis:s,activeTool:i.tool}),Object(a.jsx)(R,{setThis:s,activeTool:i.tool}),Object(a.jsx)(k,{setThis:s,activeTool:i.tool}),Object(a.jsx)(T,{setThis:s,activeTool:i.tool}),Object(a.jsx)(Y,{setThis:s,activeTool:i.tool}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:function(){console.log()},children:"test"})})]})};var X=function(){var t=Object(s.useState)({color:"#000000",lineWidth:5,tool:new A,canvasWidth:800,canvasHeight:800}),e=Object(l.a)(t,2),i=e[0],c=e[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(V,{setToolbarStatus:c,ToolbarStatus:i}),Object(a.jsx)(h,{ToolbarStatus:i,setToolbarStatus:c})]})};i(200);o.a.render(Object(a.jsx)(X,{}),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.e3ebe49d.chunk.js.map